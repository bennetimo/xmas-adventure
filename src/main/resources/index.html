<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Xmas Adventure</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="wrapper">
        <div id="console">
            <div id="output"></div>
            <div id="inputLine" class="input-line">
                <div><p id="prompt"></p></div>
                <div><input id="userInput" class="input" autofocus /></div>
            </div>
        </div>
    </div>
    <audio id="audio" src=""></audio>
</div>
<!-- Include JavaScript dependencies -->
<script type="text/javascript" src="../xmas-adventure-jsdeps.min.js"></script>
<!-- Include Scala.js compiled code -->
<script type="text/javascript" src="../xmas-adventure-opt.js"></script>

<script>
    // Chrome doesn't allow autoplay anymore until the user has interacted with the page!
    $(document).click(function() {
        var audio_file = new Audio('computer-hum.wav')
        audio_file.addEventListener('timeupdate', function(){
            var buffer = .44
            if(this.currentTime > this.duration - buffer){
                this.currentTime = 0
                this.play()
            }}, false);
        audio_file.volume = 0.5;
        audio_file.play()
    });
</script>
</body>
</html>